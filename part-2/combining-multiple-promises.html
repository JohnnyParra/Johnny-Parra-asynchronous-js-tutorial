<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  
</body>

<script>
  // /* promise.all() method takes an array of promises and returns
  // a single promise */
  // const fetchPromise1 = fetch('https://mdn.github.io/learning-area/javascript/apis/fetching-data/can-store/products.json');
  // const fetchPromise2 = fetch('https://mdn.github.io/learning-area/javascript/apis/fetching-data/can-store/not-found');
  // const fetchPromise3 = fetch('https://mdn.github.io/learning-area/javascript/oojs/json/superheroes.json');

  // Promise.all([fetchPromise1, fetchPromise2, fetchPromise3])
  //   .then((responses) => {
  //     for (const response of responses) {
  //       console.log(`${response.url}: ${response.status}`);
  //     }
  //   })
  //   .catch((error) => {
  //     console.error(`Failed to fetch: ${error}`)
  //   });



  // /* catch handler will run when anyone of the fetches fail*/
  // const fetchPromise1 = fetch('https://mdn.github.io/learning-area/javascript/apis/fetching-data/can-store/products.json');
  // const fetchPromise2 = fetch('https://mdn.github.io/learning-area/javascript/apis/fetching-data/can-store/not-found');
  // const fetchPromise3 = fetch('bad-scheme://mdn.github.io/learning-area/javascript/oojs/json/superheroes.json');

  // Promise.all([fetchPromise1, fetchPromise2, fetchPromise3])
  //   .then((responses) => {
  //     for (const response of responses) {
  //       console.log(`${response.url}: ${response.status}`);
  //     }
  //   })
  //   .catch((error) => {
  //     console.error(`Failed to fetch: ${error}`)
  //   });



  /* Promise.any() will fullfil as soon as one of the promises are 
  fulfilled and will reject when they all promises get rejected. 
  Cannot predict which fetch will finish first. */
  const fetchPromise1 = fetch('https://mdn.github.io/learning-area/javascript/apis/fetching-data/can-store/products.json');
  const fetchPromise2 = fetch('https://mdn.github.io/learning-area/javascript/apis/fetching-data/can-store/not-found');
  const fetchPromise3 = fetch('https://mdn.github.io/learning-area/javascript/oojs/json/superheroes.json');

  Promise.any([fetchPromise1, fetchPromise2, fetchPromise3])
    .then((response) => {
      console.log(`${response.url}: ${response.status}`);
    })
    .catch((error) => {
      console.error(`Failed to fetch: ${error}`)
    });
    //There are other methods you can use for Promise. look up on mdn.
</script>
</html>